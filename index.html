<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP & Subnet Mask Binary Visualizer</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Favicon package generated by Favicon.im Generator -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="favicons/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="favicons/android-chrome-512x512.png">
    <meta name="theme-color" content="#ffffff">
</head>
<body>
    <div class="container">
        <h1>IP & Subnet Mask Binary Visualizer</h1>
        
        <!-- Mode Selection - ADD THIS SECTION -->
        <div class="mode-selection">
            <button id="visualizerBtn" class="mode-btn active">Visualize Mode</button>
            <button id="questionBtn" class="mode-btn">Question Mode</button>
            <button id="instructionBtn" class="mode-btn">Instruction Mode</button>
        </div>

        <!-- Visualizer Mode -->
        <div id="visualizerMode" class="app-mode active">
            <div class="main-content">
                <div class="input-section">
                    <div class="input-group">
                        <label for="ipAddress">IP Address:</label>
                        <input type="text" id="ipAddress" placeholder="192.168.1.1" value="192.168.1.1">
                    </div>
                    
                    <div class="input-group">
                        <label for="subnetMask">Subnet Mask:</label>
                        <input type="text" id="subnetMask" placeholder="255.255.255.0" value="255.255.255.0">
                    </div>

                    <div class="input-group">
                        <label for="secondIpAddress">Second IP Address (Optional):</label>
                        <input type="text" id="secondIpAddress" placeholder="192.168.1.2" value="192.168.1.2">
                    </div>
                </div>

                <div class="info-section">
                    <h3>Network Information</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">IP Class:</span>
                            <span class="info-value" id="ipClass">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Network Address:</span>
                            <span class="info-value" id="networkAddress">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Usable Hosts:</span>
                            <span class="info-value" id="usableHosts">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">CIDR Notation:</span>
                            <span class="info-value" id="cidrNotation">-</span>
                        </div>
                        <div class="info-item" id="sameNetworkItem" style="display: none;">
                            <span class="info-label">Same Network:</span>
                            <span class="info-value" id="sameNetwork">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="results-section">
                <div class="address-card">
                    <h3>Binary Visualization</h3>
                    
                    <div class="binary-comparison">
                        <!-- Position indicator row -->
                        <div class="binary-row">
                            <span class="label">Bit Value:</span>
                            <div class="binary-display" id="positionIndicator"></div>
                        </div>
                        <div class="binary-row">
                            <span class="label">IP Address:</span>
                            <div class="binary-display" id="ipBinary"></div>
                        </div>
                        <div class="binary-row">
                            <span class="label">Subnet Mask:</span>
                            <div class="binary-display" id="maskBinary"></div>
                        </div>
                        <div class="binary-row" id="secondIpRow" style="display: none;">
                            <span class="label">Second IP:</span>
                            <div class="binary-display" id="secondIpBinary"></div>
                        </div>

                        <!-- Slider components -->
                        <div class="slider-container">
                            <div class="slider" id="mask-slider"></div>
                            <div class="slider draggable" id="drag-slider"></div>
                        </div>
                    </div>

                    <div class="slider-info" id="slider-info-display" style="display: none;">
                        Selected Bits: <span id="selected-bits">0</span> | 
                        Possible Values: <span id="possible-values">1</span>
                    </div>

                    <div class="network-division" id="networkDivision">
                        <!-- Network/Host division line will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Question Mode - ADD THIS SECTION -->
        <div id="questionMode" class="app-mode">
            <div class="question-card">
                <h3>Subnetting Practice</h3>
                <div class="question-display" id="questionText">
                    Click "Next Question" to start practicing!
                </div>
                <div class="answer-section">
                    <input type="text" id="userAnswer" placeholder="Enter your answer...">
                    <button id="submitAnswer">Submit Answer</button>
                    <button id="visualizeQuestion">Visualize This</button>
                    <button id="nextQuestion">Next Question</button>
                </div>
                <div class="feedback" id="questionFeedback"></div>
                <div class="score-display">
                    <span>Score: <span id="score">0</span>/<span id="totalQuestions">0</span></span>
                </div>
            </div>
        </div>

        <!-- Instruction Mode - ADD THIS SECTION -->
        <div id="instructionMode" class="app-mode">
            <div class="instruction-card">
                <h3>Subnetting Reference Guide</h3>

                <!-- Powers of 2 -->
                <div class="reference-section">
                    <h4>Powers of 2</h4>
                    <div class="reference-grid two-col">
                        <div>2<sup>1</sup> = 2</div><div>2<sup>8</sup> = 256</div>
                        <div>2<sup>2</sup> = 4</div><div>2<sup>9</sup> = 512</div>
                        <div>2<sup>3</sup> = 8</div><div>2<sup>10</sup> = 1,024</div>
                        <div>2<sup>4</sup> = 16</div><div>2<sup>11</sup> = 2,048</div>
                        <div>2<sup>5</sup> = 32</div><div>2<sup>12</sup> = 4,096</div>
                        <div>2<sup>6</sup> = 64</div><div>2<sup>13</sup> = 8,192</div>
                        <div>2<sup>7</sup> = 128</div><div>2<sup>14</sup> = 16,384</div>
                    </div>
                </div>

                <!-- IP Classes & Default Masks -->
                <div class="reference-section">
                    <h4>IP Classes & Default Masks</h4>
                    <div class="reference-grid">
                        <div><strong>Class A (1 - 126):</strong> Default Mask 255.0.0.0 (/8)</div>
                        <div><strong>Class B (128 - 191):</strong> Default Mask 255.255.0.0 (/16)</div>
                        <div><strong>Class C (192 - 223):</strong> Default Mask 255.255.255.0 (/24)</div>
                    </div>
                </div>

                <!-- CIDR Reference -->
                <div class="reference-section">
                    <h4>CIDR & Binary Reference</h4>
                    <div class="reference-grid two-col">
                        <div><strong>/25 (128):</strong> 10000000</div>
                        <div><strong>/26 (192):</strong> 11000000</div>
                        <div><strong>/27 (224):</strong> 11100000</div>
                        <div><strong>/28 (240):</strong> 11110000</div>
                        <div><strong>/29 (248):</strong> 11111000</div>
                        <div><strong>/30 (252):</strong> 11111100</div>
                        <div><strong>/31 (254):</strong> 11111110</div>
                        <div><strong>/32 (255):</strong> 11111111</div>
                    </div>
                </div>

                <!-- Binary Scale -->
                <div class="reference-section">
                    <h4>Binary Place Values</h4>
                    <div class="binary-scale">
                        <div class="scale-item">128</div>
                        <div class="scale-item">64</div>
                        <div class="scale-item">32</div>
                        <div class="scale-item">16</div>
                        <div class="scale-item">8</div>
                        <div class="scale-item">4</div>
                        <div class="scale-item">2</div>
                        <div class="scale-item">1</div>
                    </div>
                </div>

                <!-- Methodology Section -->
                <div class="reference-section">
                    <h4>The "Big Five" Questions</h4>
                    <ol>
                        <li>How many subnets does the chosen mask produce?</li>
                        <li>How many valid hosts per subnet?</li>
                        <li>What are the valid subnets?</li>
                        <li>What's the broadcast address of each subnet?</li>
                        <li>What are the valid hosts in each subnet?</li>
                    </ol>
                </div>

                <div class="reference-section">
                    <h4>Essential Formulas</h4>
                    <ul>
                        <li><strong>Subnets:</strong> 2<sup>x</sup> (where x = masked bits/1s)</li>
                        <li><strong>Hosts:</strong> 2<sup>y</sup> - 2 (where y = unmasked bits/0s)</li>
                        <li><strong>Block Size:</strong> 256 - subnet mask value</li>
                        <li><strong>Valid Hosts:</strong> Between subnet address and broadcast address</li>
                    </ul>
                </div>

                <div class="reference-section">
                    <h4>Mental Subnetting Steps</h4>
                    <ol>
                        <li>Identify block size: 256 - subnet mask</li>
                        <li>Count subnets: Start at 0, add block size repeatedly</li>
                        <li>Find target subnet: Where does IP fall between subnets?</li>
                        <li>Broadcast: Next subnet - 1</li>
                        <li>Valid hosts: Subnet +1 to broadcast -1</li>
                    </ol>
                </div>

                <!-- Question Examples -->
                <div class="reference-section">
                    <h4>Question Type Examples</h4>
                    
                    <div class="example-item">
                        <h5>1. Subnet Calculation</h5>
                        <p><strong>Question:</strong> How many subnets does the mask 255.255.255.192 (/26) create for a Class C network?</p>
                        <p><strong>Solution:</strong></p>
                        <ul style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">
                            <li><strong>Compare Masks:</strong> A default Class C mask is /24. The new mask is /26.</li>
                            <li><strong>Find "Borrowed" Bits:</strong> Subtract the default from the new mask: 26 - 24 = 2. We "borrowed" 2 bits to make subnets.</li>
                            <li><strong>The Formula:</strong> Number of Subnets = 2<sup>n</sup>. Here, <em>n</em> is the number of borrowed bits (2).</li>
                            <li><strong>Calculation:</strong> 2<sup>2</sup> = 2 Ã— 2 = 4 subnets.</li>
                        </ul>
                        <p><strong>Answer:</strong> 4</p>
                    </div>

                    <div class="example-item">
                        <h5>2. Host Count</h5>
                        <p><strong>Question:</strong> How many usable hosts per subnet with mask 255.255.255.240 (/28)?</p>
                        <p><strong>Solution:</strong></p>
                        <ul style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">
                            <li><strong>Analyze Mask:</strong> 240 in binary is 11110000.</li>
                            <li><strong>Count Host Bits:</strong> Count the zeros at the end. There are 4 zeros.</li>
                            <li><strong>The Formula:</strong> Usable Hosts = 2<sup>h</sup> - 2. Here, <em>h</em> is the number of zeros (4).</li>
                            <li><strong>Calculation:</strong> 2<sup>4</sup> - 2 = 16 - 2 = 14.</li>
                            <li>(We subtract 2 because the first address is the Network ID and the last is the Broadcast Address).</li>
                        </ul>
                        <p><strong>Answer:</strong> 14</p>
                    </div>

                    <div class="example-item">
                        <h5>3. Same Network Check</h5>
                        <p><strong>Question:</strong> Are 192.168.1.50 and 192.168.1.60 on the same network with mask 255.255.255.192 (/26)?</p>
                        <p><strong>Solution:</strong></p>
                        <ul style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">
                            <li><strong>Block Size:</strong> 256 - 192 = 64.</li>
                            <li><strong>Subnets:</strong> 0, 64, 128, 192...</li>
                            <li><strong>Range Check:</strong> Subnet 0 goes from 0 to 63.</li>
                            <li>Both .50 and .60 fall within the 0-63 range.</li>
                        </ul>
                        <p><strong>Answer:</strong> yes</p>
                    </div>

                    <div class="example-item">
                        <h5>4. Broadcast Address</h5>
                        <p><strong>Question:</strong> What is the broadcast address for IP 192.168.1.75 with mask 255.255.255.224 (/27)?</p>
                        <p><strong>Solution:</strong></p>
                        <ul style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">
                            <li><strong>Block Size:</strong> 256 - 224 = 32.</li>
                            <li><strong>Find Subnet Ranges:</strong>
                                <ul style="list-style-type: circle; margin-left: 20px; margin-top: 5px;">
                                    <li>Subnet 1: 0 - 31</li>
                                    <li>Subnet 2: 32 - 63</li>
                                    <li><strong>Subnet 3: 64 - 95</strong> (Target IP .75 is here)</li>
                                    <li>Subnet 4: 96 - 127</li>
                                </ul>
                            </li>
                            <li><strong>Rule:</strong> Broadcast is the last number in the range (or number right before the <em>next</em> subnet).</li>
                            <li>Next subnet starts at 96. Broadcast = 96 - 1 = 95.</li>
                        </ul>
                        <p><strong>Answer:</strong> 192.168.1.95</p>
                    </div>

                    <div class="example-item">
                        <h5>5. Valid Subnet Check</h5>
                        <p><strong>Question:</strong> Is 192.168.1.64 a valid subnet address for mask 255.255.255.192 (/26)?</p>
                        <p><strong>Solution:</strong></p>
                        <ul style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">
                            <li><strong>Block Size:</strong> 256 - 192 = 64.</li>
                            <li><strong>Rule:</strong> Valid subnet IDs are multiples of the block size.</li>
                            <li><strong>Check:</strong> 0, 64, 128...</li>
                            <li>Since 64 is a multiple, it is valid.</li>
                        </ul>
                        <p><strong>Answer:</strong> yes</p>
                    </div>

                </div>

            </div>
        </div>
    </div>

    <script src="visualizer.js"></script>
    <script src="question.js"></script>
    <script src="app.js"></script>
</body>
</html>